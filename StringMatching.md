### 7.1 원시매칭

문자열 매칭은 어느 텍스트 문자열 `A[]` 에서 패턴 문자열 `P[]` 가 존재하는지 확인하는 문제이다. 이 문제에는 여러 알고리즘이 존재하는데 원시 매칭은 단순 반복문을 통해서 `A[]` 안에 `P[]` 가 있는지 확인한다.

**pseudocode**

```
naiveMatching(A, P)
{
	▷ n : 배열 A[ ]의 길이, m : 배열 P[ ]의 길이
	for i ← 1 to n- m+1{
		if (P[1… m] = A[ i… i+ m-1])
		then A[i] 자리에서 매칭이 발견되었음을 알린다;
	}
}
```

- A[1...n] : 텍스트 문자열, P[1...m] : 패턴 문자열 (n>m)
- 기본적으로 전부 탐색하는 방법으로 시간복잡도는 **O(mn)** 이다.

### 7.2 Automata

(유한)오토마타(Automata) 알고리즘은 문자열 매칭을 위한 알고리즘이다. 이 알고리즘은 매칭을 상태의 전이로 나타낸다. 문자열을 하나씩 읽으면서 현재 상태를 변경하는 방식으로 작동한다.

예시를 들며 설명하자면 다음과 같다 :

**ababaca를 체크하는 오토마타**

- 오토마타 구성요소
  - `Q` : 상태 집합
  - `q0` : 시작 상태
  - `F` : 목표 상태들의 집합
  - `∑` : 입력 알파벳
  - `δ` : 상태 전이 함수
- 문자열 `S` 에서 `ababaca` 가 있는지 체크하기 위해서 `Q` 상태집합을 `{0, 1, 2, 3, 4, 5, 6, 7}`로 둔다.
  - `0`은 아무것도 찾지 못한 경우이고, `7`은 마지막 `a`까지 찾은 경우이다.
  - 따라서 그 사이의 수는 각 알파벳을 찾은 후 갖는 상태이다.

> 상태를 정의한다는 의미로 동적 프로그래밍을 생각하면 이해하기 쉽다. `dp[0] = [], dp[1] = [a], dp[2] = [a, b] ... dp[7] = [a, b, a, b, a, c, a]` 로 생각하여 원하는 문자가 안나와도 상태를 전환하며 굳이 처음으로 안돌아가도 된다.

1. 아무것도 못찾은 상태를 `0`으로 두고 시작
   - `a`를 찾았을 경우 상태 `1`로 전이.
   - 못 찾았을 경우 그대로 `0`.
2. `a`를 찾은 `1`상태
   - `a`를 찾은 경우 : `0`이 아닌 자기 자신의 상태인 `1`로 유지.
   - `b`를 찾은 경우 : `2`상태로 전이.
   - 다른 알파벳을 찾은 경우 : 전환할 상태가 없으므로 시작 상태인 `0`으로 전이.
3. `ab`까지 찾은 `2` 상태
   - `a` : 원하는 문자열이므로 `3` 상태로 전이.
   - `b` : `abb`에서는 다시 돌아갈 상태가 없으므로 시작 상태인 `0`으로 전이. 다른 알파벳도 마찬가지.
4. `aba`까지 찾은 `3` 상태
   - `a` : `abaa`에서 돌아갈 수 있는 경우는 `a`를 찾은 상태인 `1`이 가장 최근이므로 `1`로 전이.(돌아가는 상태를 찾기 어려우면 **각 상태에서의 알파벳을 보고 맨 끝자리부터 겹치는 알파벳을 찾아보면 된다. ex) `abaa`에서 `1`상태인 `a` 겹침, `2` 상태인 `ab`, `3`상태인 `aba`는 `abaa`의 끝자리인 `a`와 `baa`에서는 마지막 `a`만 겹침을 알 수 있다. 따라서 `1`상태로만 전이 할 수 있다.**)
   - `b` : 목표 문자열이므로 `4` 상태로 전이.
   - 다른 알파벳을 찾은 경우 겹치는 상태가 없으므로 시작상태인 `0`으로 전이.
5. `abab`까지 찾은 `4`상태
   - `a` : 목표 문자열이므로 `5` 상태로 전이.
   - `b` : 끝자리 `bb`로 겹치는 것이 없으니 시작상태인 `0`으로 전이, 다른 알파벳도.
6. `ababa`까지 찾은 `5`상태
   - `c` : 다음 상태인 `6`으로 전이.
   - `b` : 앞에 `abab`까지 겹치므로 `4` 상태로 이동하여 `abab`였을 때의 상태로 전이.
   - `a` : `~baa`로 겹치는 상태는 마지막 `a` 뿐이므로 `1`상태로 전이.
7. `ababac`까지 찾은 `6`상태
   - `a` : 다음 상태인 `7`로 전이.
   - `c` : `ababacc`는 기존 상태에서 겹치는 상태가 없으므로 `0`으로 전이.
   - `b` : 위와 같음. `a`를 제외한 나머지 알파벳이 나오면 `0`으로 전이.
8. `ababaca`까지 찾은 `7`상태
   - 찾으려는 문자열을 하나를 찾았기 때문에 찾았음을 알리고, 계속 탐색.
   - `a`를 찾은 경우 : `aa` 반복되는 상태가 없으므로 `a` 하나만 찾은 `1`상태로 전이.
   - `b`를 찾은 경우: `ababacab`에서 `ab`부터 다시 시작할 수 있으므로 `2`로 전이.
   - 다른 알파벳을 찾은 경우(ex. `c`): `ababacac`에서 `ac` 상태가 있는 것처럼 보이지만 앞에까지 겹치는 상태가 없다. 따라서 시작상태인 `0`으로 전이.

### 7.3 KMP

### 7.4 Rabin-Karp
